"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[9575],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>m});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=n.createContext({}),c=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},u=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},v=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),p=c(r),v=a,m=p["".concat(s,".").concat(v)]||p[v]||d[v]||i;return r?n.createElement(m,o(o({ref:t},u),{},{components:r})):n.createElement(m,o({ref:t},u))}));function m(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=r.length,o=new Array(i);o[0]=v;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[p]="string"==typeof e?e:a,o[1]=l;for(var c=2;c<i;c++)o[c]=r[c];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}v.displayName="MDXCreateElement"},7377:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var n=r(7462),a=(r(7294),r(3905));const i={sidebar_position:33},o="\u8bbe\u8ba1\u6a21\u5f0f\u4e0e\u5e38\u89c1\u95ee\u9898",l={unversionedId:"\u7cfb\u7edf\u8bbe\u8ba1/\u8bbe\u8ba1\u6a21\u5f0f\u4e0e\u5e38\u89c1\u95ee\u9898",id:"\u7cfb\u7edf\u8bbe\u8ba1/\u8bbe\u8ba1\u6a21\u5f0f\u4e0e\u5e38\u89c1\u95ee\u9898",title:"\u8bbe\u8ba1\u6a21\u5f0f\u4e0e\u5e38\u89c1\u95ee\u9898",description:"\u7cfb\u7edf\u67b6\u6784",source:"@site/docs/\u7cfb\u7edf\u8bbe\u8ba1/\u8bbe\u8ba1\u6a21\u5f0f\u4e0e\u5e38\u89c1\u95ee\u9898.md",sourceDirName:"\u7cfb\u7edf\u8bbe\u8ba1",slug:"/\u7cfb\u7edf\u8bbe\u8ba1/\u8bbe\u8ba1\u6a21\u5f0f\u4e0e\u5e38\u89c1\u95ee\u9898",permalink:"/\u7cfb\u7edf\u8bbe\u8ba1/\u8bbe\u8ba1\u6a21\u5f0f\u4e0e\u5e38\u89c1\u95ee\u9898",draft:!1,editUrl:"https://github.com/Interview-Science/Book/edit/main/docs/\u7cfb\u7edf\u8bbe\u8ba1/\u8bbe\u8ba1\u6a21\u5f0f\u4e0e\u5e38\u89c1\u95ee\u9898.md",tags:[],version:"current",sidebarPosition:33,frontMatter:{sidebar_position:33},sidebar:"tutorialSidebar",previous:{title:"\u5e94\u7528\u4e0e\u8bbe\u8ba1\u6a21\u5f0f",permalink:"/\u7cfb\u7edf\u8bbe\u8ba1/\u5e94\u7528\u6a21\u5f0f"},next:{title:"\u5e94\u7528\u5b9e\u8df5",permalink:"/\u7cfb\u7edf\u8bbe\u8ba1/\u5e94\u7528\u5b9e\u8df5"}},s={},c=[{value:"\u7cfb\u7edf\u67b6\u6784",id:"\u7cfb\u7edf\u67b6\u6784",level:2},{value:"Event-driven architectures",id:"event-driven-architectures",level:3},{value:"Microservice",id:"microservice",level:3},{value:"Monolithic",id:"monolithic",level:3},{value:"Peer-to-Peer",id:"peer-to-peer",level:3},{value:"Serverless architecture",id:"serverless-architecture",level:3},{value:"\u4ea4\u4e92\u4e0e\u53d1\u5e03",id:"\u4ea4\u4e92\u4e0e\u53d1\u5e03",level:2},{value:"Asynchronous Request-Reply Pattern",id:"asynchronous-request-reply-pattern",level:3},{value:"Publisher-Subscriber Pattern",id:"publisher-subscriber-pattern",level:3},{value:"\u6570\u636e\u7ba1\u7406",id:"\u6570\u636e\u7ba1\u7406",level:2},{value:"CQRS Pattern",id:"cqrs-pattern",level:3},{value:"Event Sourcing Pattern",id:"event-sourcing-pattern",level:3},{value:"Sharding Pattern",id:"sharding-pattern",level:3},{value:"Geode Pattern",id:"geode-pattern",level:3},{value:"\u4e00\u81f4\u6027\u4e0e\u5b89\u5168",id:"\u4e00\u81f4\u6027\u4e0e\u5b89\u5168",level:2},{value:"Compensating Transaction Pattern",id:"compensating-transaction-pattern",level:3},{value:"Saga Distributed Transactions Pattern",id:"saga-distributed-transactions-pattern",level:3},{value:"Valet Key Pattern",id:"valet-key-pattern",level:3},{value:"\u7f13\u5b58\u4e0e\u6548\u7387",id:"\u7f13\u5b58\u4e0e\u6548\u7387",level:2},{value:"Cache-Aside Pattern",id:"cache-aside-pattern",level:3},{value:"Rate Limiting Pattern",id:"rate-limiting-pattern",level:3},{value:"Fan-Out/Fan-In Strategy",id:"fan-outfan-in-strategy",level:3},{value:"\u901a\u7528",id:"\u901a\u7528",level:2},{value:"Ambassador Pattern",id:"ambassador-pattern",level:3},{value:"Anti-corruption Layer Pattern",id:"anti-corruption-layer-pattern",level:3},{value:"Gatekeeper Pattern",id:"gatekeeper-pattern",level:3},{value:"Health Endpoint Monitoring Pattern",id:"health-endpoint-monitoring-pattern",level:3},{value:"Retry Pattern &amp; Circuit Breaker Pattern",id:"retry-pattern--circuit-breaker-pattern",level:3}],u={toc:c},p="wrapper";function d(e){let{components:t,...r}=e;return(0,a.kt)(p,(0,n.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"\u8bbe\u8ba1\u6a21\u5f0f\u4e0e\u5e38\u89c1\u95ee\u9898"},"\u8bbe\u8ba1\u6a21\u5f0f\u4e0e\u5e38\u89c1\u95ee\u9898"),(0,a.kt)("h2",{id:"\u7cfb\u7edf\u67b6\u6784"},"\u7cfb\u7edf\u67b6\u6784"),(0,a.kt)("h3",{id:"event-driven-architectures"},"Event-driven architectures"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"How would you design the event-driven architecture for a  newsfeed?")),(0,a.kt)("p",null,'"The design would involve a publish-subscribe model where user actions are events that are published to a messaging system. Subscribers, such as the newsfeed service, would consume these events to update the feed.'),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Event producers: User actions (post, like, comment, share)."),(0,a.kt)("li",{parentName:"ul"},"Event consumers: Newsfeed service, notification service."),(0,a.kt)("li",{parentName:"ul"},"Event brokers: Kafka, RabbitMQ, or AWS SNS/SQS."),(0,a.kt)("li",{parentName:"ul"},'Feed generation: Real-time vs. pre-generated feeds using fan-out on write or lazy loading strategies."'),(0,a.kt)("li",{parentName:"ul"},"Datastores: NoSQL databases like Cassandra for the feed, Elasticsearch for search."),(0,a.kt)("li",{parentName:"ul"},"Caching: Memcached or Redis to cache hot data.")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"How would you handle peak traffic in an event-driven live streaming service like Facebook Live?")),(0,a.kt)("p",null,'"To handle peak traffic, we can:'),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Use a scalable messaging system to handle the surge in events."),(0,a.kt)("li",{parentName:"ul"},"Implement backpressure mechanisms to manage event flow."),(0,a.kt)("li",{parentName:"ul"},"Utilize auto-scaling in the cloud to dynamically allocate resources."),(0,a.kt)("li",{parentName:"ul"},"Employ load balancers to distribute traffic evenly.")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},'"How can you ensure ordered delivery of product purchase events in an e-commerce platform like Amazon?"')),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Message Queue Partitioning: Use a message queue that supports partitioning, and partition events based on a consistent key, such as user ID or order ID, to ensure that events for the same entity are processed in order."),(0,a.kt)("li",{parentName:"ul"},"Sequential Event Numbering: Assign a sequential number to each event at the source, allowing the consumer to process them in the correct order even if they arrive out of sequence."),(0,a.kt)("li",{parentName:"ul"},"Exactly-Once Delivery Semantics: Utilize message brokers that support exactly-once delivery semantics to prevent duplicate processing and maintain event order integrity."),(0,a.kt)("li",{parentName:"ul"},"Ordered Processing Queues: Implement ordered queues in the consumer service, ensuring that events are processed one at a time in the order they are received."),(0,a.kt)("li",{parentName:"ul"},"Event Store with Versioning: Use an event store where events are appended with a version number that indicates the order, and have the consumer service check the version to process events sequentially.")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},'"How would you ensure consistency across distributed services in an event-driven architecture for an e-commerce platform?"')),(0,a.kt)("p",null,'"Implement the CQRS pattern to separate the write model (commands) from the read model (queries). Use event sourcing to ensure all changes are captured as events, which can then be projected into the read model, ensuring eventual consistency across the services."'),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},'"Can you explain how you would implement idempotency in event processing for an e-commerce platform?"')),(0,a.kt)("p",null,'"To implement idempotency:'),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Assign a unique identifier to each event."),(0,a.kt)("li",{parentName:"ul"},"Make the event handling operation idempotent by checking if the event has already been processed before acting on it."),(0,a.kt)("li",{parentName:"ul"},"Use idempotent receivers that can handle duplicate messages without side effects."),(0,a.kt)("li",{parentName:"ul"},'Store the state of processed events in a datastore."')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Examples")),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("a",{parentName:"li",href:"https://cloud.google.com/pubsub#stream-analytics"},"Stream analytics"))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Resources")),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("a",{parentName:"li",href:"https://cloud.google.com/eventarc/docs/event-driven-architectures"},"Event-driven architectures")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("a",{parentName:"li",href:"https://aws.amazon.com/event-driven-architecture/"},"What is an Event-Driven Architecture?"))),(0,a.kt)("h3",{id:"microservice"},"Microservice"),(0,a.kt)("h3",{id:"monolithic"},"Monolithic"),(0,a.kt)("h3",{id:"peer-to-peer"},"Peer-to-Peer"),(0,a.kt)("h3",{id:"serverless-architecture"},"Serverless architecture"),(0,a.kt)("h2",{id:"\u4ea4\u4e92\u4e0e\u53d1\u5e03"},"\u4ea4\u4e92\u4e0e\u53d1\u5e03"),(0,a.kt)("h3",{id:"asynchronous-request-reply-pattern"},"Asynchronous Request-Reply Pattern"),(0,a.kt)("h3",{id:"publisher-subscriber-pattern"},"Publisher-Subscriber Pattern"),(0,a.kt)("h2",{id:"\u6570\u636e\u7ba1\u7406"},"\u6570\u636e\u7ba1\u7406"),(0,a.kt)("h3",{id:"cqrs-pattern"},"CQRS Pattern"),(0,a.kt)("h3",{id:"event-sourcing-pattern"},"Event Sourcing Pattern"),(0,a.kt)("h3",{id:"sharding-pattern"},"Sharding Pattern"),(0,a.kt)("h3",{id:"geode-pattern"},"Geode Pattern"),(0,a.kt)("h2",{id:"\u4e00\u81f4\u6027\u4e0e\u5b89\u5168"},"\u4e00\u81f4\u6027\u4e0e\u5b89\u5168"),(0,a.kt)("h3",{id:"compensating-transaction-pattern"},"Compensating Transaction Pattern"),(0,a.kt)("h3",{id:"saga-distributed-transactions-pattern"},"Saga Distributed Transactions Pattern"),(0,a.kt)("h3",{id:"valet-key-pattern"},"Valet Key Pattern"),(0,a.kt)("h2",{id:"\u7f13\u5b58\u4e0e\u6548\u7387"},"\u7f13\u5b58\u4e0e\u6548\u7387"),(0,a.kt)("h3",{id:"cache-aside-pattern"},"Cache-Aside Pattern"),(0,a.kt)("h3",{id:"rate-limiting-pattern"},"Rate Limiting Pattern"),(0,a.kt)("h3",{id:"fan-outfan-in-strategy"},"Fan-Out/Fan-In Strategy"),(0,a.kt)("h2",{id:"\u901a\u7528"},"\u901a\u7528"),(0,a.kt)("h3",{id:"ambassador-pattern"},"Ambassador Pattern"),(0,a.kt)("h3",{id:"anti-corruption-layer-pattern"},"Anti-corruption Layer Pattern"),(0,a.kt)("h3",{id:"gatekeeper-pattern"},"Gatekeeper Pattern"),(0,a.kt)("h3",{id:"health-endpoint-monitoring-pattern"},"Health Endpoint Monitoring Pattern"),(0,a.kt)("h3",{id:"retry-pattern--circuit-breaker-pattern"},"Retry Pattern & Circuit Breaker Pattern"))}d.isMDXComponent=!0}}]);