"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[5672],{3905:(t,e,n)=>{n.d(e,{Zo:()=>c,kt:()=>m});var l=n(7294);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);e&&(l=l.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,l)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e){if(null==t)return{};var n,l,r=function(t,e){if(null==t)return{};var n,l,r={},a=Object.keys(t);for(l=0;l<a.length;l++)n=a[l],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(l=0;l<a.length;l++)n=a[l],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var o=l.createContext({}),u=function(t){var e=l.useContext(o),n=e;return t&&(n="function"==typeof t?t(e):i(i({},e),t)),n},c=function(t){var e=u(t.components);return l.createElement(o.Provider,{value:e},t.children)},p="mdxType",d={inlineCode:"code",wrapper:function(t){var e=t.children;return l.createElement(l.Fragment,{},e)}},k=l.forwardRef((function(t,e){var n=t.components,r=t.mdxType,a=t.originalType,o=t.parentName,c=s(t,["components","mdxType","originalType","parentName"]),p=u(n),k=r,m=p["".concat(o,".").concat(k)]||p[k]||d[k]||a;return n?l.createElement(m,i(i({ref:e},c),{},{components:n})):l.createElement(m,i({ref:e},c))}));function m(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var a=n.length,i=new Array(a);i[0]=k;var s={};for(var o in e)hasOwnProperty.call(e,o)&&(s[o]=e[o]);s.originalType=t,s[p]="string"==typeof t?t:r,i[1]=s;for(var u=2;u<a;u++)i[u]=n[u];return l.createElement.apply(null,i)}return l.createElement.apply(null,n)}k.displayName="MDXCreateElement"},6198:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>o,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>s,toc:()=>u});var l=n(7462),r=(n(7294),n(3905));const a={sidebar_position:30},i="\u5e94\u7528\u4e0e\u8bbe\u8ba1\u6a21\u5f0f",s={unversionedId:"\u7cfb\u7edf\u8bbe\u8ba1/\u5e94\u7528\u6a21\u5f0f",id:"\u7cfb\u7edf\u8bbe\u8ba1/\u5e94\u7528\u6a21\u5f0f",title:"\u5e94\u7528\u4e0e\u8bbe\u8ba1\u6a21\u5f0f",description:"| Type        |  Keypoints | Patterns   |",source:"@site/docs/\u7cfb\u7edf\u8bbe\u8ba1/\u5e94\u7528\u6a21\u5f0f.md",sourceDirName:"\u7cfb\u7edf\u8bbe\u8ba1",slug:"/\u7cfb\u7edf\u8bbe\u8ba1/\u5e94\u7528\u6a21\u5f0f",permalink:"/zh-CN/\u7cfb\u7edf\u8bbe\u8ba1/\u5e94\u7528\u6a21\u5f0f",draft:!1,editUrl:"https://github.com/Interview-Science/Book/edit/main/docs/\u7cfb\u7edf\u8bbe\u8ba1/\u5e94\u7528\u6a21\u5f0f.md",tags:[],version:"current",sidebarPosition:30,frontMatter:{sidebar_position:30},sidebar:"tutorialSidebar",previous:{title:"\u5e94\u7528\u5206\u7c7b",permalink:"/zh-CN/\u7cfb\u7edf\u8bbe\u8ba1/\u5e94\u7528\u5206\u7c7b"},next:{title:"\u5e94\u7528\u5b9e\u8df5",permalink:"/zh-CN/\u7cfb\u7edf\u8bbe\u8ba1/\u5e94\u7528\u5b9e\u8df5"}},o={},u=[],c={toc:u},p="wrapper";function d(t){let{components:e,...n}=t;return(0,r.kt)(p,(0,l.Z)({},c,n,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"\u5e94\u7528\u4e0e\u8bbe\u8ba1\u6a21\u5f0f"},"\u5e94\u7528\u4e0e\u8bbe\u8ba1\u6a21\u5f0f"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Keypoints"),(0,r.kt)("th",{parentName:"tr",align:null},"Patterns"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("h4",null,"News Feed"),"  ",(0,r.kt)("ul",null,(0,r.kt)("li",null,"Twitter"),(0,r.kt)("li",null,"Instagram"),(0,r.kt)("li",null,"TikTok"),(0,r.kt)("li",null,"Pinterest"),(0,r.kt)("li",null,"RSS"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("ul",null,(0,r.kt)("li",null,"Use a fan-out / fan-in strategy for feed updates to enhance availability (",(0,r.kt)("a",{parentName:"td",href:"https://www.youtube.com/watch?v=WEgCjwyXvwc"},"1"),")"),(0,r.kt)("li",null,"Read-Your-Writes Consistency (",(0,r.kt)("a",{parentName:"td",href:"https://arpitbhayani.me/blogs/read-your-write-consistency"},"1"),", ",(0,r.kt)("a",{parentName:"td",href:"https://docs.oracle.com/cd/E17276_01/html/gsg_db_rep/C/rywc.html"},"2"),")"),(0,r.kt)("li",null,"Maintain data replication across servers for consistency(",(0,r.kt)("a",{parentName:"td",href:"https://www.youtube.com/watch?v=wapi0aR4BZE"},"1"),", ",(0,r.kt)("a",{parentName:"td",href:"https://instagram-engineering.com/sharding-ids-at-instagram-1cf5a71e5a5c"},"2"),", ",(0,r.kt)("a",{parentName:"td",href:"https://www.singlestore.com/blog/database-sharding-vs-partitioning-whats-the-difference/"},"3"),")"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("ul",null,(0,r.kt)("li",null,"Fan-Out / Fan-In Strategy: ",(0,r.kt)("ul",null,(0,r.kt)("li",null,"Distribute a new post to all follower feeds (fan-out); aggregate feeds when users log in (fan-in)"))),(0,r.kt)("li",null,"Event Sourcing Pattern: ",(0,r.kt)("ul",null,(0,r.kt)("li",null,"Store changes to the news feed as events, ensuring all writes are recorded for user consistency"),(0,r.kt)("li",null,"Replay events to rebuild user feed state in case of server failure, ensuring data consistency"))),(0,r.kt)("li",null,"Sharding Pattern: ",(0,r.kt)("ul",null,(0,r.kt)("li",null,"Shard news feed data by user region to distribute load and reduce latency"),(0,r.kt)("li",null,"Shard by user activity level, placing more active users on high-performance shards to balance load")))))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("h4",null,"Share")," ",(0,r.kt)("ul",null,(0,r.kt)("li",null,"TinyURL"),(0,r.kt)("li",null,"Bitly"),(0,r.kt)("li",null,"Shorby"),(0,r.kt)("li",null,"Pastebin"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("ul",null,(0,r.kt)("li",null,"Pregenerate URLs for later use"),(0,r.kt)("li",null,"Implement caching for frequent redirects to reduce latency (",(0,r.kt)("a",{parentName:"td",href:"https://docs.aws.amazon.com/whitepapers/latest/database-caching-strategies-using-redis/caching-patterns.html"},"1"),")"),(0,r.kt)("li",null,"Apply rate limiting and validation to enhance security(",(0,r.kt)("a",{parentName:"td",href:"https://freecontent.manning.com/all-about-bloom-filters/"},"1"),")"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("ul",null,(0,r.kt)("li",null,"Cache-Aside Pattern: ",(0,r.kt)("ul",null,(0,r.kt)("li",null,"Cache frequently accessed short URLs to speed up redirect requests"),(0,r.kt)("li",null,"Evict expired URLs from cache to ensure users are redirected correctly"))),(0,r.kt)("li",null,"Rate Limiting Pattern: ",(0,r.kt)("ul",null,(0,r.kt)("li",null,"Limit URL creation requests to prevent abuse and ensure fair usage"),(0,r.kt)("li",null,"Apply rate limiting on redirects to prevent DDoS attacks on popular URLs"))),(0,r.kt)("li",null,"Publisher-Subscriber Pattern: ",(0,r.kt)("ul",null,(0,r.kt)("li",null,"Notify caching systems to evict or preload URLs when new ones are pregenerated")))))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("h4",null,"GEO Base"),"  ",(0,r.kt)("ul",null,(0,r.kt)("li",null,"Uber"),(0,r.kt)("li",null,"Uber Eats"),(0,r.kt)("li",null,"Grab"),(0,r.kt)("li",null,"Lyft"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("ul",null,(0,r.kt)("li",null,"Implement efficient matching algorithms for low latency\uff08",(0,r.kt)("a",{parentName:"td",href:"https://medium.com/@bkawk/geohashing-20b282fc9655"},"1"),", ",(0,r.kt)("a",{parentName:"td",href:"https://s2geometry.io/"},"2"),"\uff09"),(0,r.kt)("li",null,"Use GPS data for location tracking"),(0,r.kt)("li",null,"Use log database to record events to facilitate data traceability"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("ul",null,(0,r.kt)("li",null,"Geode Pattern: ",(0,r.kt)("ul",null,(0,r.kt)("li",null,"Use geodes to efficiently match riders with nearby drivers for low latency"),(0,r.kt)("li",null,"Store and index GPS data geospatially for quick location-based queries"))),(0,r.kt)("li",null,"Event Sourcing Pattern: ",(0,r.kt)("ul",null,(0,r.kt)("li",null,"Record all ride-related events for full traceability of the system's state"),(0,r.kt)("li",null,"Use events to reconstruct a trip's state in case of disputes or audits"))),(0,r.kt)("li",null,"Saga Distributed Transactions Pattern: ",(0,r.kt)("ul",null,(0,r.kt)("li",null,"Manage complex transactions like booking, payment, and confirmation across services"),(0,r.kt)("li",null,"Ensure consistency in distributed systems when riders cancel or change routes")))))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("h4",null,"IM")," ",(0,r.kt)("ul",null,(0,r.kt)("li",null,"WhatsApp"),(0,r.kt)("li",null,"Facebook Messenger"),(0,r.kt)("li",null,"WeChat"),(0,r.kt)("li",null,"LINE"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("ul",null,(0,r.kt)("li",null,"efficient messaging protocols like XMPP (",(0,r.kt)("a",{parentName:"td",href:"https://www.cometchat.com/blog/whatsapps-architecture-and-system-design"},"1"),")"),(0,r.kt)("li",null,"Ensure data consistency with eventual consistency model"),(0,r.kt)("li",null,"Encrypt messages for security (",(0,r.kt)("a",{parentName:"td",href:"https://signal.org/blog/how-to-build-encrypted-group-calls/"},"1"),")"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("ul",null,(0,r.kt)("li",null,"Valet Key Pattern: ",(0,r.kt)("ul",null,(0,r.kt)("li",null,"Give clients temporary keys to upload/download attachments securely"),(0,r.kt)("li",null,"Use keys to authenticate WebSocket/XMPP connections for sending/receiving messages")))))))))}d.isMDXComponent=!0}}]);