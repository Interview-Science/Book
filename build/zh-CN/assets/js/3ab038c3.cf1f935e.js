"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7977],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>h});var a=r(7294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var o=a.createContext({}),c=function(e){var t=a.useContext(o),r=t;return e&&(r="function"==typeof e?e(t):l(l({},t),e)),r},u=function(e){var t=c(e.components);return a.createElement(o.Provider,{value:t},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},v=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,i=e.originalType,o=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=c(r),v=n,h=d["".concat(o,".").concat(v)]||d[v]||p[v]||i;return r?a.createElement(h,l(l({ref:t},u),{},{components:r})):a.createElement(h,l({ref:t},u))}));function h(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=r.length,l=new Array(i);l[0]=v;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s[d]="string"==typeof e?e:n,l[1]=s;for(var c=2;c<i;c++)l[c]=r[c];return a.createElement.apply(null,l)}return a.createElement.apply(null,r)}v.displayName="MDXCreateElement"},9664:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>o,contentTitle:()=>l,default:()=>p,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var a=r(7462),n=(r(7294),r(3905));const i={sidebar_position:50},l="\u8bbe\u8ba1\u6a21\u5f0f\u4e0e\u5e38\u89c1\u95ee\u9898",s={unversionedId:"\u7cfb\u7edf\u8bbe\u8ba1/\u8bbe\u8ba1\u6a21\u5f0f\u65b0",id:"\u7cfb\u7edf\u8bbe\u8ba1/\u8bbe\u8ba1\u6a21\u5f0f\u65b0",title:"\u8bbe\u8ba1\u6a21\u5f0f\u4e0e\u5e38\u89c1\u95ee\u9898",description:"\u7cfb\u7edf\u67b6\u6784",source:"@site/docs/\u7cfb\u7edf\u8bbe\u8ba1/\u8bbe\u8ba1\u6a21\u5f0f\u65b0.md",sourceDirName:"\u7cfb\u7edf\u8bbe\u8ba1",slug:"/\u7cfb\u7edf\u8bbe\u8ba1/\u8bbe\u8ba1\u6a21\u5f0f\u65b0",permalink:"/zh-CN/\u7cfb\u7edf\u8bbe\u8ba1/\u8bbe\u8ba1\u6a21\u5f0f\u65b0",draft:!1,editUrl:"https://github.com/Interview-Science/Book/edit/main/docs/\u7cfb\u7edf\u8bbe\u8ba1/\u8bbe\u8ba1\u6a21\u5f0f\u65b0.md",tags:[],version:"current",sidebarPosition:50,frontMatter:{sidebar_position:50},sidebar:"tutorialSidebar",previous:{title:"\u8bbe\u8ba1\u6a21\u5f0f",permalink:"/zh-CN/\u7cfb\u7edf\u8bbe\u8ba1/\u8bbe\u8ba1\u6a21\u5f0f"},next:{title:"\u4fe1\u606f\u6d41\u7cfb\u7edf",permalink:"/zh-CN/\u7cfb\u7edf\u8bbe\u8ba1/\u5206\u7c7b\u603b\u7ed3/\u4fe1\u606f\u6d41\u7cfb\u7edf"}},o={},c=[{value:"\u7cfb\u7edf\u67b6\u6784",id:"\u7cfb\u7edf\u67b6\u6784",level:2},{value:"Event-driven architectures",id:"event-driven-architectures",level:3},{value:"Serverless architecture",id:"serverless-architecture",level:3},{value:"Microservice",id:"microservice",level:3},{value:"\u4ea4\u4e92\u4e0e\u53d1\u5e03",id:"\u4ea4\u4e92\u4e0e\u53d1\u5e03",level:2},{value:"Asynchronous Request-Reply Pattern",id:"asynchronous-request-reply-pattern",level:3},{value:"Publisher-Subscriber Pattern",id:"publisher-subscriber-pattern",level:3},{value:"\u6570\u636e\u7ba1\u7406",id:"\u6570\u636e\u7ba1\u7406",level:2},{value:"CQRS Pattern",id:"cqrs-pattern",level:3},{value:"Event Sourcing Pattern",id:"event-sourcing-pattern",level:3},{value:"Sharding Pattern",id:"sharding-pattern",level:3},{value:"Geode Pattern",id:"geode-pattern",level:3},{value:"\u4e00\u81f4\u6027\u4e0e\u5b89\u5168",id:"\u4e00\u81f4\u6027\u4e0e\u5b89\u5168",level:2},{value:"Compensating Transaction Pattern",id:"compensating-transaction-pattern",level:3},{value:"Saga Distributed Transactions Pattern",id:"saga-distributed-transactions-pattern",level:3},{value:"Valet Key Pattern",id:"valet-key-pattern",level:3},{value:"\u7f13\u5b58\u4e0e\u6548\u7387",id:"\u7f13\u5b58\u4e0e\u6548\u7387",level:2},{value:"Cache-Aside Pattern",id:"cache-aside-pattern",level:3},{value:"Rate Limiting Pattern",id:"rate-limiting-pattern",level:3},{value:"Fan-Out/Fan-In Strategy",id:"fan-outfan-in-strategy",level:3},{value:"\u901a\u7528",id:"\u901a\u7528",level:2},{value:"Ambassador Pattern",id:"ambassador-pattern",level:3},{value:"Anti-corruption Layer Pattern",id:"anti-corruption-layer-pattern",level:3},{value:"Gatekeeper Pattern",id:"gatekeeper-pattern",level:3},{value:"Health Endpoint Monitoring Pattern",id:"health-endpoint-monitoring-pattern",level:3},{value:"Retry Pattern &amp; Circuit Breaker Pattern",id:"retry-pattern--circuit-breaker-pattern",level:3}],u={toc:c},d="wrapper";function p(e){let{components:t,...r}=e;return(0,n.kt)(d,(0,a.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"\u8bbe\u8ba1\u6a21\u5f0f\u4e0e\u5e38\u89c1\u95ee\u9898"},"\u8bbe\u8ba1\u6a21\u5f0f\u4e0e\u5e38\u89c1\u95ee\u9898"),(0,n.kt)("h2",{id:"\u7cfb\u7edf\u67b6\u6784"},"\u7cfb\u7edf\u67b6\u6784"),(0,n.kt)("h3",{id:"event-driven-architectures"},"Event-driven architectures"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Q: How would you design the event-driven architecture for a  newsfeed?")),(0,n.kt)("p",null,"A: The design would involve a publish-subscribe model where user actions are events that are published to a messaging system. Subscribers, such as the newsfeed service, would consume these events to update the feed."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Event producers: User actions (post, like, comment, share)."),(0,n.kt)("li",{parentName:"ul"},"Event consumers: Newsfeed service, notification service."),(0,n.kt)("li",{parentName:"ul"},"Event brokers: Kafka, RabbitMQ, or AWS SNS/SQS."),(0,n.kt)("li",{parentName:"ul"},"Datastores: NoSQL databases like Cassandra for the feed, Elasticsearch for search."),(0,n.kt)("li",{parentName:"ul"},"Caching: Memcached or Redis to cache hot data."),(0,n.kt)("li",{parentName:"ul"},"Feed generation: Real-time vs. pre-generated feeds using fan-out on write or lazy loading strategies.")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Q: How would you handle peak traffic in an event-driven live streaming service like Facebook Live?")),(0,n.kt)("p",null,"A: To handle peak traffic, we can:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Use a scalable messaging system to handle the surge in events."),(0,n.kt)("li",{parentName:"ul"},"Implement backpressure mechanisms to manage event flow."),(0,n.kt)("li",{parentName:"ul"},"Utilize auto-scaling in the cloud to dynamically allocate resources."),(0,n.kt)("li",{parentName:"ul"},"Employ load balancers to distribute traffic evenly."),(0,n.kt)("li",{parentName:"ul"},"Integrate a CDN for media distribution to reduce latency."),(0,n.kt)("li",{parentName:"ul"},"Optimize the stream's bit rate based on user bandwidth.")),(0,n.kt)("p",null,'Q: "How can you ensure ordered delivery of product purchase events in an e-commerce platform like Amazon?"'),(0,n.kt)("p",null,'A: "Use a message queuing system that supports ordered delivery, such as Amazon SQS FIFO queues, which ensure messages are processed exactly once and in the order they are sent."'),(0,n.kt)("p",null,'Q: "How would you ensure consistency across distributed services in an event-driven architecture for an e-commerce platform?"'),(0,n.kt)("p",null,'A: "Implement the CQRS pattern to separate the write model (commands) from the read model (queries). Use event sourcing to ensure all changes are captured as events, which can then be projected into the read model, ensuring eventual consistency across the services."'),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Examples")),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"https://cloud.google.com/pubsub#stream-analytics"},"Stream analytics"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Resources")),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"https://cloud.google.com/eventarc/docs/event-driven-architectures"},"Event-driven architectures")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("a",{parentName:"li",href:"https://aws.amazon.com/event-driven-architecture/"},"What is an Event-Driven Architecture?"))),(0,n.kt)("h3",{id:"serverless-architecture"},"Serverless architecture"),(0,n.kt)("h3",{id:"microservice"},"Microservice"),(0,n.kt)("h2",{id:"\u4ea4\u4e92\u4e0e\u53d1\u5e03"},"\u4ea4\u4e92\u4e0e\u53d1\u5e03"),(0,n.kt)("h3",{id:"asynchronous-request-reply-pattern"},"Asynchronous Request-Reply Pattern"),(0,n.kt)("h3",{id:"publisher-subscriber-pattern"},"Publisher-Subscriber Pattern"),(0,n.kt)("h2",{id:"\u6570\u636e\u7ba1\u7406"},"\u6570\u636e\u7ba1\u7406"),(0,n.kt)("h3",{id:"cqrs-pattern"},"CQRS Pattern"),(0,n.kt)("h3",{id:"event-sourcing-pattern"},"Event Sourcing Pattern"),(0,n.kt)("h3",{id:"sharding-pattern"},"Sharding Pattern"),(0,n.kt)("h3",{id:"geode-pattern"},"Geode Pattern"),(0,n.kt)("h2",{id:"\u4e00\u81f4\u6027\u4e0e\u5b89\u5168"},"\u4e00\u81f4\u6027\u4e0e\u5b89\u5168"),(0,n.kt)("h3",{id:"compensating-transaction-pattern"},"Compensating Transaction Pattern"),(0,n.kt)("h3",{id:"saga-distributed-transactions-pattern"},"Saga Distributed Transactions Pattern"),(0,n.kt)("h3",{id:"valet-key-pattern"},"Valet Key Pattern"),(0,n.kt)("h2",{id:"\u7f13\u5b58\u4e0e\u6548\u7387"},"\u7f13\u5b58\u4e0e\u6548\u7387"),(0,n.kt)("h3",{id:"cache-aside-pattern"},"Cache-Aside Pattern"),(0,n.kt)("h3",{id:"rate-limiting-pattern"},"Rate Limiting Pattern"),(0,n.kt)("h3",{id:"fan-outfan-in-strategy"},"Fan-Out/Fan-In Strategy"),(0,n.kt)("h2",{id:"\u901a\u7528"},"\u901a\u7528"),(0,n.kt)("h3",{id:"ambassador-pattern"},"Ambassador Pattern"),(0,n.kt)("h3",{id:"anti-corruption-layer-pattern"},"Anti-corruption Layer Pattern"),(0,n.kt)("h3",{id:"gatekeeper-pattern"},"Gatekeeper Pattern"),(0,n.kt)("h3",{id:"health-endpoint-monitoring-pattern"},"Health Endpoint Monitoring Pattern"),(0,n.kt)("h3",{id:"retry-pattern--circuit-breaker-pattern"},"Retry Pattern & Circuit Breaker Pattern"))}p.isMDXComponent=!0}}]);