---
sidebar_position: 10
---

# 应用分类

| 类型        |  功能需求 | 非功能需求 | 关键点 |
| ---------   | -------  |  -------- | -------  |
| <h4>News Feed</h4>  <ul><li>Twitter</li><li>Instagram</li><li>TikTok</li><li>Pinterest</li><li>RSS 类系统</li></ul>   |  <ul><li>发布图文</li><li>关注，被关注</li><li>浏览信息流</li></ul>        | <ul><li>Read low latency：阅读信息流流畅性</li><li>Consistency：用户关注关系需要在多设备同步。信息流在多设备中顺序保持一致</li><li>High availability：一般性要求</li></ul> | <ul><li>根据用户粉丝数量制定混合策略：Pull, Push, Fanout</li><li>使用指针和日志追加型数据库记录多设备读取位置</li><li>Read-Your-Writes Consistency</li><li>从用户 ID 或者数据 ID 维度进行数据分区</li></ul>   |
| <h4>IM</h4> <ul><li>WhatsApp</li><li>Facebook Messenger</li><li>WeChat</li><li>LINE</li></ul>   | <ul><li>从个人/群组中发送/接受信息</li><li>消息状态（已送达，已读）和用户状态（在线，离线）</li><li>查询历史消息</li></ul>    | <ul><li>Read and Write low latency：收发信息的速度是关键指标</li><li>Consistency：保证消息顺序以及在多端的消息同步</li><li>Security：信息传输安全</li><li>High availability：一般性要求</li></ul>  | <ul><li>特定的应用协议：MQTT, AMQP, XMPP</li><li>消息有序性</li><li>使用指针和日志追加型数据库记录多设备读取位置</li><li>使用点对点加密与安全协议保证信息安全</li></ul> |
| <h4>Live</h4> <ul><li>Facebook Live</li><li>Twitch</li><li>Zoom</li><li>Google Meets</li></ul>   | <ul><li>浏览音视频直播</li><li>发起音视频直播</li><li>对直播评论，点赞</li></ul>    | <ul><li>Read and Write low latency：观看以及发起直播的流畅性</li><li>Scalability：支撑大量直播以及热门直播</li><li>High availability：一般性要求</li></ul>  | <ul><li>特定的应用协议进行网络自适应：RTMPS, WebRTC</li><li>资源自动扩容与收缩支持热门直播</li><li>使用多级缓存或者队列服务解决惊群效应</li></ul> |
| <h4>Video</h4>  <ul><li>YouTube</li><li>Netflix</li><li>Disney Plus</li><li>HBO Max</li></ul>   | <ul><li>浏览视频</li><li>发布视频</li><li>对视频评论，点赞</li></ul>   | <ul><li>Read low latency: 观看视频的流畅性</li><li>Scalability：支撑大量视频上传以及观看</li><li>High availability：一般性要求</li></ul> | <ul><li>边缘节点与 CDN 内容分发</li><li>特定应用协议保证网络码率自适应</li><li>热门视频使用多级缓存，缓存预热，缓存淘汰策略</li><li>资源自动扩容与收缩支持视频处理</li><li>工作服务器可以使用 Serverless，Map Reduce 等策略进行视频处理</li></ul> |
| <h4>GEO Base</h4>  <ul><li>Uber</li><li>Uber Eats</li><li>Grab</li><li>Lyft</li></ul> | <ul><li>叫车/叫外卖</li><li>司机接单并且去接乘客/商家完成餐品后通知骑手</li><li>司机/商家状态（上线，离线）与位置</li></ul>| <ul><li>高匹配度：匹配最合适的服务商（司机，骑手）</li><li>Consistency：同一个订单只会被最合适的一位服务商接到</li><li>High availability：一般性要求</li></ul>  | <ul><li>使用 Geohash 算法，S2 算法提高匹配度</li><li>定期更新匹配排名信息</li><li>特定应用协议记录司机位置</li><li>使用日志型数据库记录事件方便数据溯源</li></ul> |
| File Sync| <ul><li>Google Drive</li><li>Microsoft One Drive</li><li>Dropbox</li><li>Sync.Com</li><li>iDrive</li></ul>   | <ul><li>多端/多用户文件同步</li><li>频繁更新</li><li>文件层级与数量多</li><li>循环依赖</li></ul>  | <ul><li>高可用与一致性</li><li>高效读写</li></ul>      | <ul><li>Rsync 算法</li><li>本地文件与云端对比，只获取所需更新。异步上传，分片上传，增量更新</li></ul> |
| Search | <ul><li>Google Search</li><li>Bing</li><li>Airbnb Search</li><li>Twitter Search</li></ul>   | <ul><li>无法预料搜索类型</li><li>搜索关键字分散</li><li>内容多</li></ul>  | <ul><li>读：响应时间</li><li>匹配与排名</li></ul>      | <ul><li>缓存热门搜索</li><li>Trie Tree 与 Reverse Index</li><li>语义分析，PageRank, Panda algorithm</li><li>图数据库</li></ul> |
| Share | <ul><li>TinyURL</li><li>Bitly</li><li>Shorby</li><li>Pastebin</li></ul>   | <ul><li>一对一关系</li><li>权限管理</li><li>过期时间</li></ul>  | <ul><li>读：响应时间</li></ul>      | <ul><li>预生成 URL</li><li>缓存策略</li></ul> |
| Ranking | <ul><li>Twitter Top Hashtags</li><li>Spotify Top K Music</li></ul>   | <ul><li>实时排序耗时</li><li>数据动态变化</li></ul>  | <ul><li>读：响应时间</li></ul>      | <ul><li>每隔一段时间预计算</li><li>近似统计算法</li></ul> |
| Trading | <ul><li>Robinhood</li><li>Webull</li><li>TradeStation</li></ul>   | <ul><li>下单的事务流程复杂</li><li>高频率</li></ul>  | <ul><li>读：响应时间</li><li>写：写入时间</li><li>高一致性</li></ul>      | <ul><li>消息队列，乐观锁与悲观锁</li><li>幂等与事务</li></ul> |
| Cooperative editing | <ul><li>Google Docs</li><li>Microsoft Office Online</li><li>Quip</li></ul>   | <ul><li>并发修改</li><li>持久化</li></ul>  | <ul><li>读：多人协作更新</li><li>写：多人协作写入</li><li>高一致性</li></ul>      | <ul><li>Operational transformation</li></ul> |
| Calendar | <ul><li>Google Calendar</li><li>Zoho Calendar</li><li>Microsoft Outlook Calendar</li></ul>   | <ul><li>并发修改</li><li>分布式事务</li></ul>  | <ul><li>写：多人并发更新</li><li>高一致性</li></ul>      | <ul><li>XA 协议</li><li>Seata</li></ul> |
| Shopping| <ul><li>Amazon</li><li>eBay</li><li>Etsy</li><li>AliExpress</li><li>Snapdeal</li></ul>   | <ul><li>下单的事务流程复杂</li><li>秒杀与拍卖场景</li><li>库存管理</li></ul>  | <ul><li>高一致性，避免重复下单，避免超卖少卖</li><li>秒杀下的高可用</li></ul>        | <ul><li>幂等与事务，消息队列，乐观锁与悲观锁</li><li>服务降级与限流</li></ul> |
| CPU-bound | <ul><li>LeetCode</li><li>Video Editor</li></ul>   | <ul><li>依赖 CPU 资源</li></ul>  | <ul><li>任务处理时间</li></ul>      | <ul><li>分治策略</li><li>异步处理通知</li></ul> |
| Infrastructure | <ul><li>Message queue</li><li>Object Storage</li><li>Logging</li><li>Monitoring</li></ul>   | <ul><li>使用方便</li><li>功能适用度高</li></ul>  | <ul><li>高可用性</li><li>高扩展性</li></ul>      | <ul><li>冗余备份以及快速恢复</li></ul> |
