---
sidebar_position: 6
---

## 分布式监控系统
- 资料来源：[Distributed tracing with OpenTelemetry and Cloud Trace](https://www.youtube.com/watch?v=NQeK8Kbu6UM)
- 使用场景：对大型系统中的每个事件进行监控以及分析

1. 当系统越来越复杂的时候，需要分析系统的瓶颈或者延迟主要出现在哪个地方。

<img class="system-small-img" src="https://cdn.jsdelivr.net/gh/Interview-Science/Book/static/img/system/Distributed-tracing.png" alt="Distributed tracing" />

2. 就像平时编程报错时，终端会返回其错误出现的地方以及其调用链，我们可以在分布式系统对每个事件都分配一个 ID，并且记录其父节点 ID。每个 ID 都会记录额外信息，例如时间戳用来分析延迟。

<img class="system-small-img" src="https://cdn.jsdelivr.net/gh/Interview-Science/Book/static/img/system/Distributed-tracing2.png" alt="Distributed tracing2" />

3. 使用 OpenTelemetry 框架协助，我们可以追踪每个 ID 的具体信息以及调用链。

<img class="system-small-img" src="https://cdn.jsdelivr.net/gh/Interview-Science/Book/static/img/system/Distributed-tracing3.png" alt="Distributed tracing3" />

